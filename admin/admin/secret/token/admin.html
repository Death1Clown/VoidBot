<!-- Collects email and code -->
<input id="email" placeholder="Enter your email">
<button onclick="sendCode()">Send Code</button>

<input id="code" placeholder="Enter code">
<button onclick="verifyCode()">Verify</button>

<script>
  async function sendCode() {
    const email = document.getElementById("email").value;
    await fetch('/send-code', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email })
    });
  }

  async function verifyCode() {
    const email = document.getElementById("email").value;
    const code = document.getElementById("code").value;
    const res = await fetch('/verify-code', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email, code })
    });
    if (res.ok) alert("✅ Verified!");
    else alert("❌ Code invalid or expired.");
  }
</script>
